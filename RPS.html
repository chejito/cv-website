<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, Paper, Scissors</title>
</head>
<body>
    <script>
        function computerPlay(){
            let num = Math.floor(Math.random() * 3);
            if (num == 1){
                return 'rock';
            } else if (num == 2){
                return 'paper';
            }else {
                return 'scissors'
            }
        }

        function playRound(playerSelection, computerSelection) {

            let tie = "Tie! Nobody wins (" + playerSelection + " vs " + computerSelection + ")";
            let won = "You Won! " + playerSelection + " beats " + computerSelection;
            let lose = "You Lose! " + computerSelection + " beats " + playerSelection;
            if (playerSelection != computerSelection) {
                if (playerSelection == "rock") {
                    if (computerSelection == "scissors") {
                        playerWins += 1;
                        return won;
                    } else {
                        computerWins += 1;
                        return lose;
                    }              
                } else if (playerSelection == "paper") {
                    if (computerSelection == "scissors") {
                        computerWins += 1;
                        return lose;
                    } else {
                        playerWins += 1;
                        return won;
                    }                
                } else {
                    if (computerSelection == "rock") {
                        computerWins += 1;
                        return lose;
                    } else {
                        playerWins += 1;
                        return won;
                    }                
                }
            } else {
                return tie;
            }
        }
            
        let playerWins = 0;
        let computerWins = 0;

        function game() {            
            for (let i = 0; i < 5; i++){
                let playerSelection = prompt("Enter Rock/Paper/Scissors to play (" + (5-i) + " chances of 5 left): ").toLowerCase();                
                let computerSelection = computerPlay();
                console.log("Computer played " + computerSelection);
                console.log(playRound(playerSelection, computerSelection));
            }
        }

        game();

        let finalResult = " " + playerWins + " points - " + computerWins + " points"

        if (playerWins > computerWins) {
            alert("You won!" + finalResult);
        } else if (playerWins < computerWins) { 
            alert("You lose!" + finalResult);
        } else {
            alert("You got a tie!" + finalResult);
        }
                
    </script>
</body>
</html>